import { ListView, Button, LineEdit } from "sixtyfps_widgets.60";
import { Table, TableRow, TableCell } from "table.60";

export Budget := Rectangle {
    property<[string]> categories: [];

    callback add-category(string);

    VerticalLayout {
        padding: 12px;
        spacing: 6px;
        HorizontalLayout {
            alignment: start;
            spacing: 4px;
            new-category := LineEdit {
                placeholder-text: "Category";
                width: 200px;
            }
            Button {
                text: "Add Category";
                clicked => {
                    root.add-category(new-category.text);
                    new-category.text = "";
                }
            }
        }
        
        Table {
            column-names: ["Category", "Assigned", "Activity", "Available"];
            row-count: categories.length;

            for category[index] in categories: TableRow {
                n: index;
                TableCell {
                    text: category;
                }
                TableCell {
                    text: "$0.00";
                    horizontal-alignment: right;
                }
                TableCell {
                    text: "$0.00";
                    horizontal-alignment: right;
                }
                TableCell {
                    text: "$0.00";
                    horizontal-alignment: right;
                }
            }
        }
    }
}